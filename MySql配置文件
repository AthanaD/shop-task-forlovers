create table usertable
(
    nameId       int auto_increment comment 'name 的 id',
    name         varchar(20)                  not null comment '唯一'
        primary key,
    password     varchar(20) default '123456' null comment '用户密码',
    userText     text                         null comment '用户的介绍',
    userImage    text                         null,
    credit       int         default 0        not null comment '积分',
    updateTime   datetime                     null comment '更新时间',
    registerTime datetime                     null comment '注册时间',
    constraint usertable_nameId_uindex
        unique (nameId)
)
    engine = InnoDB;

create table producetable
(
    produceId     int auto_increment comment '商品ID',
    produceName   varchar(50)       not null comment '商品名字',
    founderId     int               not null comment '商品创始人',
    produceText   varchar(100)      null comment '商品简介',
    produceImage  text              null comment '商品图片地址',
    produceCredit int               null comment '单个任务积分',
    produceNum    tinyint default 1 null comment '商品数量,默认为1',
    customer      varchar(20)       not null comment '出售商品人名字',
    updateTime    datetime          null comment '更新商品时间',
    registerTime  datetime          null comment '注册商品时间',
    constraint producetable_produceId_uindex
        unique (produceId),
    constraint producetable_usertable_name_fk
        foreign key (customer) references usertable (name)
            on update cascade on delete cascade
)
    engine = InnoDB;

create table roomtable
(
    produceId    int auto_increment comment '商品代号'
        primary key,
    founderId    int                  not null comment '商品拥有者',
    produceName  varchar(20)          not null comment '商品名称',
    produceText  varchar(100)         null comment '商品详情',
    produceImage text                 null comment '商品图片',
    produceNum   int        default 0 not null comment '商品数量',
    checkProduce tinyint(1) default 0 not null comment '判断任务是否核对',
    useName      varchar(20)          not null comment '商品所有人',
    updateTime   datetime             null comment '商品更新时间',
    registerTime datetime             null comment '商品注册时间',
    constraint roomtable_usertable_name_fk
        foreign key (useName) references usertable (name)
            on update cascade on delete cascade
)
    engine = InnoDB;

create table tasktable
(
    taskId       int auto_increment comment '任务编号'
        primary key,
    founderId    int                  not null comment '任务创建者ID',
    useName      varchar(20)          not null comment '发起任务的人',
    taskName     varchar(100)         not null comment '任务名称',
    taskText     varchar(200)         null comment '任务备注',
    taskCredit   int        default 0 null comment '任务积分',
    updateTime   datetime             null comment '任务更新时间',
    registerTime datetime             null comment '任务创建时间',
    checkTask    tinyint(1) default 0 null comment '任务是否完成',
    constraint tasktable_usertable_name_fk
        foreign key (useName) references usertable (name)
            on update cascade on delete cascade
)
    engine = InnoDB;

